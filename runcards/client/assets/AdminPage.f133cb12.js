import{_ as R,e as T,f as O,z as x,s as I,g as j,h as p,d as b,M as A,l as v,P as h,c as i,b as e,t as _,F as f,i as y,a as F,A as u,r as Z,o as d,j as E,w as g,p as P,k as L}from"./index.e44876de.js";const U={setup(){T(async()=>{await O.getChannels(),await x.getZones(),await I.getStations(),await j.getResources(),document.getElementById("SimpleFormModal").addEventListener("hidden.bs.modal",()=>{r.value="",l.value={},S.value="",t.value=""})});const r=p(""),l=p({}),S=p(""),t=p(!1),M=p(""),w=b(()=>u.account),C=b(()=>u.channels),o=b(()=>u.zones),n=b(()=>u.stations),k=b(()=>u.resources);return{alertsense:b(()=>u.alertSenseLink),stationId:r,formEdit:t,formType:S,selectedObj:l,channels:C,zones:o,stations:n,resources:k,selectedTab:M,account:w,openSimpleObjectModal(c,a,m){try{S.value=c,m&&(r.value=m),console.log(r.value),a?(t.value=!0,l.value=a,A.getOrCreateInstance("#SimpleFormModal").show()):(t.value=!1,l.value={},A.getOrCreateInstance("#SimpleFormModal").show())}catch(N){v.error(N)}},async deleteChannel(c){try{await h.confirm()&&(O.deleteChannel(c),h.toast("Channel Removed!","success"))}catch(a){v.error(a)}},determinStationName(c){return n.value.filter(m=>m.id===c)[0].name},async deleteZone(c,a){try{await h.confirm()&&(x.deleteZone(c,a),h.toast("Zone Removed!","success"))}catch(m){v.error(m)}},async deleteResource(c){try{await h.confirm()&&(j.deleteResource(c),h.toast("Resource Removed!","success"))}catch(a){v.error(a)}},async deleteStation(c){try{await h.confirm()&&(I.deleteStation(c),h.toast("Station Removed!","success"))}catch(a){v.error(a)}}}}},s=r=>(P("data-v-69aa1b4e"),r=r(),L(),r),B={key:0,class:"container"},D=s(()=>e("div",{class:"row my-4"},[e("div",{class:"col-12 d-flex justify-content-around"},[e("p",{id:"RM",class:"tab fs-1 fw-bold selectable"},"Resource Management")])],-1)),z={class:"row card mx-5 py-2"},V={class:"col-6 offset-md-3 text-center mb-4"},Y=s(()=>e("h3",null,"Alertsense",-1)),G={class:"row"},q={class:"col-10"},H=s(()=>e("i",{class:"mdi mdi-pencil selectable"},null,-1)),J=[H],K={class:"col-6 offset-md-3 text-center mb-4"},Q=s(()=>e("h3",null,"Channels",-1)),W={class:"table table-striped"},X=s(()=>e("th",{scope:"col"},"Designation",-1)),$={scope:"col"},ee={scope:"row",class:"pt-3"},te=["onClick"],oe=s(()=>e("i",{class:"mdi mdi-pencil selectable"},null,-1)),se=[oe],ne=["onClick"],le=s(()=>e("i",{class:"mdi mdi-trash-can text-danger selectable"},null,-1)),ce=[le],ae={class:"col-6 offset-md-3 text-center"},ie=s(()=>e("h3",null,"Stations and Zones",-1)),de={class:"accordion",id:"stationAccordion"},re={class:"accordion-header",id:"headingOne"},_e=["data-bs-target"],he={class:"ms-5"},me=["onClick"],be=s(()=>e("i",{class:"mdi mdi-pencil selectable"},null,-1)),ue=[be],pe=["onClick"],ve=s(()=>e("i",{class:"mdi mdi-trash-can text-danger selectable"},null,-1)),fe=[ve],Se=["id"],ye={class:"accordion-body"},Ce={style:{"list-style":"none"}},ke=["onClick"],ge=s(()=>e("i",{class:"mdi mdi-pencil selectable"},null,-1)),Me=[ge],we=["onClick"],Oe=s(()=>e("i",{class:"mdi mdi-trash-can text-danger selectable"},null,-1)),xe=[Oe],Ie={class:"mt-2 border border-light p-3"},je=["onClick"],Ae={class:"accordion-item"},Ne={class:"col-9 offset-md-1 text-center mt-4"},Re=s(()=>e("h3",{class:"ms-5 ps-5"},"Units",-1)),Te={class:"table table-striped"},Fe=s(()=>e("th",{scope:"col"},"Unit Number",-1)),Ze=s(()=>e("th",{scope:"col"},"Type",-1)),Ee=s(()=>e("th",{scope:"col"},"Minimum Staff",-1)),Pe=s(()=>e("th",{scope:"col"},"24/7 staffed",-1)),Le=s(()=>e("th",{scope:"col"},"Station",-1)),Ue={scope:"col"},Be={scope:"row"},De=["onClick"],ze=s(()=>e("i",{class:"mdi mdi-pencil selectable"},null,-1)),Ve=[ze],Ye=["onClick"],Ge=s(()=>e("i",{class:"mdi mdi-trash-can text-danger selectable"},null,-1)),qe=[Ge],He={key:1};function Je(r,l,S,t,M,w){const C=Z("SimpleFormModal");return d(),i(f,null,[t.account.admin?(d(),i("div",B,[D,e("div",z,[e("div",V,[Y,e("div",G,[e("p",q,_(t.alertsense),1),e("button",{class:"btn col-2",onClick:l[0]||(l[0]=o=>t.openSimpleObjectModal("alertsense",t.alertsense))},J)])]),e("div",K,[Q,e("table",W,[e("thead",null,[e("tr",null,[X,e("th",$,[e("button",{class:"btn",onClick:l[1]||(l[1]=o=>t.openSimpleObjectModal("channel"))},"Add Channel")])])]),e("tbody",null,[(d(!0),i(f,null,y(t.channels,o=>(d(),i("tr",{key:o.id},[e("th",ee,_(o.name),1),e("td",null,[e("button",{class:"btn",onClick:n=>t.openSimpleObjectModal("channel",o)},se,8,te),e("button",{class:"btn",onClick:n=>t.deleteChannel(o.id)},ce,8,ne)])]))),128))])])]),e("div",ae,[ie,e("div",de,[(d(!0),i(f,null,y(t.stations,o=>(d(),i("div",{key:o.id,class:"accordion-item"},[e("h2",re,[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#a"+o.id,"aria-expanded":"true","aria-controls":"collapseOne"},[E(_(o.name)+" ",1),e("div",he,[e("button",{class:"btn",onClick:g(n=>t.openSimpleObjectModal("station",o),["stop"])},ue,8,me),e("button",{class:"btn",onClick:g(n=>t.deleteStation(o.id),["stop"])},fe,8,pe)])],8,_e)]),e("div",{id:"a"+o.id,class:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#stationAccordion"},[e("div",ye,[e("ul",Ce,[(d(!0),i(f,null,y(t.zones[o.id],n=>(d(),i("li",{key:n.id,class:"d-flex justify-content-between"},[e("span",null,_(n.name),1),e("span",null,[e("button",{class:"btn",onClick:g(k=>t.openSimpleObjectModal("zone",n),["stop"])},Me,8,ke),e("button",{class:"btn",onClick:k=>t.deleteZone(n.id,n.stationId)},xe,8,we)])]))),128)),e("li",Ie,[e("button",{onClick:n=>t.openSimpleObjectModal("zone",void 0,o.id),class:"btn btn-primary"},"Add New Zone",8,je)])])])],8,Se)]))),128)),e("div",Ae,[e("button",{class:"btn",onClick:l[2]||(l[2]=o=>t.openSimpleObjectModal("station"))},"Add Station")])])]),e("div",Ne,[Re,e("table",Te,[e("thead",null,[e("tr",null,[Fe,Ze,Ee,Pe,Le,e("th",Ue,[e("button",{class:"btn",onClick:l[3]||(l[3]=o=>t.openSimpleObjectModal("resource"))},"Add Unit")])])]),e("tbody",null,[(d(!0),i(f,null,y(t.resources,o=>(d(),i("tr",{key:o.id},[e("th",Be,_(o.unitNumber),1),e("td",null,_(o.type),1),e("td",null,_(o.minStaff),1),e("td",null,_(o.alwaysStaffed?"Yes":"No"),1),e("td",null,_(t.determinStationName(o.stationId)),1),e("td",null,[e("button",{onClick:n=>t.openSimpleObjectModal("resource",o),class:"btn"},Ve,8,De),e("button",{onClick:n=>t.deleteResource(o.id),class:"btn"},qe,8,Ye)])]))),128))])])])])])):(d(),i("div",He," LOGIN TO ADMIN ACCOUNT TO ACCESS ADMIN FUNCTIONALITY ")),F(C,{objProp:t.selectedObj,type:t.formType,edit:t.formEdit,stationId:t.stationId},null,8,["objProp","type","edit","stationId"])],64)}const We=R(U,[["render",Je],["__scopeId","data-v-69aa1b4e"]]);export{We as default};
